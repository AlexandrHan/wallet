/* ================== THEME ==================
   –ó–º—ñ–Ω–Ω—ñ —Ç–µ–º–∏. –î–∞–ª—ñ —Å—Ç–∏–ª—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å var(...)
=========================================== */
:root{
  --bg:#0b0d10;
  --panel:rgba(28,32,45,.65);
  --stroke:rgba(255,255,255,.08);
  --text:#e9eef6;
  --muted:#9aa6bc;

  --blue:#4c7dff;
  --green:#66f2a8;
  --red:#ff6b6b;

  --blur:20px;
  --radius-xl:22px;
  --radius-lg:18px;
  --radius-pill:999px;
  
  --header-h: 78px;
  color-scheme: dark;
}



/* Select —É sheet: –±–∞–∑–æ–≤–∏–π –≤–∏–≥–ª—è–¥ */
.sheet-panel select{
  color: var(--text);
  background: rgba(255,255,255,.08);
  border: 1px solid var(--stroke);
}

/* Dropdown-–æ–ø—Ü—ñ—ó (Windows/Chrome/Edge) */
.sheet-panel select option{
  background: #0b0d10;
  color: #e9eef6;
}

/* Optgroup (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à) */
.sheet-panel select optgroup{
  background: #0b0d10;
  color: #9aa6bc;
}

/* Splash —Ö–æ–≤–∞—î–º–æ, —è–∫—â–æ –≤–∂–µ –ø–æ–∫–∞–∑—É–≤–∞–ª–∏ —É –≤–∫–ª–∞–¥—Ü—ñ */
html.no-splash #appSplash{
  display: none !important;
}

/* ================== SPLASH ================== */
#appSplash {
  position: fixed;
  width: 100%;
  inset: 0;
  background:
    radial-gradient(1400px 700px at 20% -20%, #1b2450 0%, transparent 60%),
    radial-gradient(1200px 600px at 90% 10%, #0f3a2a 0%, transparent 55%),
    linear-gradient(180deg, #0b0d10 0%, #07080c 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 99999;
  transition: opacity .35s ease, visibility .35s ease;
}

#appSplash.hide {
  opacity: 0;
  visibility: hidden;
}

#holdingTotalAmt{
  color:#cacaca !important;
  text-shadow: 0 10px 26px rgba(0,0,0,.55), 0 1px 0 rgba(255,255,255,.08);
}

.splash-logo {
  width: 320px;
  max-width: 40vw;

  aspect-ratio: 1 / 1;

  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: -7rem;
  animation: splashPulse 1.8s ease-in-out infinite;
}

.splash-logo img {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  object-fit: contain;
  display: block;
}

/* ===== Entry Sheet Color Modes =====
   –ü—ñ–¥—Å–≤—ñ—Ç–∫–∞ sheet –ø—ñ–¥ –¥–æ—Ö—ñ–¥/–≤–∏—Ç—Ä–∞—Ç—É
==================================== */
.sheet.entry-income {
  --accent: #3bd671; /* iOS green */
}

.sheet.entry-expense {
  --accent: #ff5a5f; /* iOS red */
}

/* header / title */
.sheet.entry-income .sheet-title,
.sheet.entry-expense .sheet-title {
  color: var(--accent);
}

/* confirm button */
.sheet.entry-income .sheet-confirm { background: var(--accent); }
.sheet.entry-expense .sheet-confirm { background: var(--accent); }

/* input focus */
.sheet.entry-income input:focus,
.sheet.entry-income textarea:focus { border-color: var(--accent); }

.sheet.entry-expense input:focus,
.sheet.entry-expense textarea:focus { border-color: var(--accent); }

/* ‚úÖ —Ç–æ—á–∫–æ–≤—ñ overrides –ø–æ id (—è–∫ —É —Ç–µ–±–µ –±—É–ª–æ) */
#sheetEntry.entry-income #sheetEntryTitle { color: var(--accent) !important; }
#sheetEntry.entry-expense #sheetEntryTitle { color: #ff001aad !important; }
#sheetEntry.entry-expense #sheetConfirm { background: #ff001aad !important; }

/* ================== BASE ================== */
*{ box-sizing:border-box; }

html, body{
  height: 100%;
}

body {
  padding-bottom: 110px; /* –±–∞–∑–æ–≤–∏–π –≤—ñ–¥—Å—Ç—É–ø */
  padding-bottom: calc(110px + env(safe-area-inset-bottom)); /* –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –±–µ–∑–ø–µ—á–Ω–æ—ó –∑–æ–Ω–∏ */
  min-height: 100vh;
  box-sizing: border-box;
}

/* –î–ª—è —Å—É—á–∞—Å–Ω–∏—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤ –∑ dynamic viewport */
@supports (min-height: 100dvh) {
  body {
    min-height: 100dvh;
    padding-bottom: calc(110px + env(safe-area-inset-bottom));
  }
}

/* —Å—É—á–∞—Å–Ω–∏–π viewport, —â–æ–± –º–æ–±—ñ–ª—å–Ω–∏–π –Ω–µ —á—É–¥–∏–≤ */
@supports (min-height: 100dvh){
  body{ min-height: 100dvh; }
}


html{
  height:100%;
  background:#0b0d10; /* –∫–ª—é—á–æ–≤–µ */
}

#opsView{
  background-color: transparent;
}

body{
  margin:0;
  padding:0;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","SF Pro Display",system-ui;

  /* NOTE: —Ü–µ–π —Ñ–æ–Ω –Ω–∏–∂—á–µ –≤—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ –ø—Ä–∞—Ü—é—î .app-bg */
  background:
    radial-gradient(1400px 700px at 20% -20%, #1b2450 0%, transparent 60%),
    radial-gradient(1200px 600px at 90% 10%, #0f3a2a 0%, transparent 55%),
    linear-gradient(180deg, #0b0d10 0%, #07080c 100%);
  background-attachment: fixed;
  background-repeat:no-repeat;
  background-size: cover;

  color:var(--text);
  overscroll-behavior:none;
  -webkit-overflow-scrolling:touch;
}

body.modal-open{
  overflow:hidden;
  touch-action:none;
}

/* —â–æ–± receipt-–º–æ–¥–∞–ª–∫–∞ –≤–∏–≥–ª—è–¥–∞–ª–∞ —è–∫ —Ç–≤—ñ–π sheet/modal */
.receipt-panel{
  background: rgba(28,32,45,.92);
}

/* ================== HEADER ================== */
header{
  position:fixed;
  top:0;
  left:0;
  right:0;
  z-index:1000;

  background: linear-gradient(
    to bottom,
    rgba(11, 16, 12, 0.88) 0%,
    rgba(11, 16, 12, 0.49) 35%,
    rgba(11, 16, 12, 0.36) 65%,
    rgba(11, 16, 12, 0) 100%
  );

  padding-top: env(safe-area-inset-top);
}

header .wrap{
  display:flex;
  align-items:center;
  position:relative;
}

.header-right{
  margin-left:auto;
  display:flex;
  align-items:center;
}

/* —Ü–µ–Ω—Ç—Ä */
.header-center{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
}

.top-area{
  width: 100%;
  display: flex;
  justify-content: space-between;
}

.logo img{
  height:48px;
  filter:
    drop-shadow(0 0 6px rgba(0, 0, 0, 0.58))
    drop-shadow(0 2px 8px rgba(0, 0, 0, 0.7));
}

.logo{
  display:flex;
  align-items:center;
  padding:6px;
  border-radius:12px;
  -webkit-tap-highlight-color: transparent;
}

/* ================== CONTENT OFFSET ================== */
main,
.content,
.app{
  padding-top: calc(var(--header-h) + env(safe-area-inset-top));
  padding-bottom: 18px;
}

/* ================== LAYOUT ================== */
.wrap{ max-width:980px; margin:0 auto; padding:18px;}–π
.row{ display:flex; gap:14px; align-items:center; flex-wrap:wrap; }

/* ================== BURGER ================== */
.burger-wrap{ position:relative; }

.burger-btn{
  width: 50px;
  height: 50px;
  margin-top: 8px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background: rgba(31, 30, 30, 0);

  backdrop-filter: blur(18px) saturate(160%);
  -webkit-backdrop-filter: blur(18px) saturate(160%);

  border: 1px solid rgba(255,255,255,.12);

  box-shadow:
    inset 0 1px 1px rgba(255,255,255,.12),
    0 4px 14px rgba(0,0,0,.25);

  color:var(--text);
  font-size:26px;
  cursor:pointer;
  transition:.2s ease;
}
.burger-btn:hover{ background:rgba(255,255,255,.14); }

/* iOS glass popover */
.burger-menu{
  position:absolute;
  right:0;
  top:90px;
  z-index:2000;

  min-width:220px;
  padding:8px;
  display:flex;
  flex-direction:column;
  gap:4px;

  border-radius:16px;

  background:
    linear-gradient(to bottom, rgba(255,255,255,.08), rgba(255,255,255,.02)),
    rgba(0, 0, 0, 0.65);

  backdrop-filter:blur(12px) saturate(200%);
  -webkit-backdrop-filter:blur(12px) saturate(200%); /* ‚úÖ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ */

  border:1px solid rgba(255,255,255,.14);

  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.18),
    0 12px 32px rgba(0,0,0,.45);
}

.burger-menu.hidden{ display:none; }

.burger-item{
  position:relative;
  padding:14px 16px;
  border-radius:12px;
  text-decoration:none;
  color:var(--text);
  background:transparent;
  border:none;
  text-align:left;
  cursor:pointer;
  font-size:14px;
  font-weight:600;
}

.burger-menu form{ display:contents; }

.burger-menu .burger-item:not(:last-child)::after{
  content:'';
  position:absolute;
  left:16px;
  right:16px;
  bottom:0;
  height:1px;
  background:linear-gradient(
    to right,
    transparent,
    rgba(255,255,255,.12),
    transparent
  );
}

.burger-item:hover{ background:rgba(255,255,255,.1); }
.burger-item.danger{ color:var(--red); }

.userName{ color:#fff; }

/* ================== BUTTONS ================== */
.btn{
  padding:10px 16px;
  border-radius:var(--radius-lg);
  background:rgba(255,255,255,.08);
  border:1px solid var(--stroke);
  color:var(--text);
  cursor:pointer;
  transition:.2s ease;
}
.btn:hover{ background:rgba(255,255,255,.14); }
.btn.primary{ background:rgba(84, 192, 134, 0.71); border-color:rgba(158, 158, 158, 0.6); }
.btn.danger{ background:#ff001aad; border-color:rgba(158, 158, 158, 0.6); }
.btn.mini{ padding:6px 10px; font-size:16px; border-radius:19px; }
.btn:disabled{ opacity:.4; }

.btn-stat-sg{ width: 100%; }

.save{
  width: 100%;
  margin-top: 8px;
  background:rgba(84, 192, 134, 0.71);
  color: #000000;
  font-weight: 600;
  font-size: 20px;
  border-radius:5rem;
}

.tag{
  padding:10px 12px;
  border-radius:var(--radius-pill);
  background:rgba(255,255,255,.06);
  border:1px solid var(--stroke);
  font-size:12px;
  color:#fff;
  font-weight:600;
}

/* ================== TEXT ================== */
.muted{ color:#fff; font-size:14px; font-weight:600; }
.big{ font-size:26px; font-weight:700; }
.pos{ color:var(--green); }
.neg{ color:#ff001aad; }

/* ================== CARDS ================== */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(360px,1fr));
  gap:22px;
  margin-top:22px;
  align-items:stretch;
}

.card{
  background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.02));
  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur));
  border:1px solid var(--stroke);
  border-radius:var(--radius-xl);
  padding:18px;
  transition:.25s ease;
}
.card:hover{ transform:translateY(-2px); }
.card.ro{ opacity:.65; }

.card-top{ display:flex; justify-content:space-between; align-items:center; }

.bank-logo{
  position:absolute;
  top:34px;
  right:14px;
  height:3rem;
  width:auto;
  opacity:.85;
  filter: drop-shadow(0 0 6px rgba(25, 151, 0, 0.5));
}

/* ===== Currency icons ===== */
.currency-icon{
  position:absolute;
  top:34px;
  right:14px;

  width:2.8rem;
  height:2.8rem;

  display:flex;
  align-items:center;
  justify-content:center;

  font-size:32px;
  font-weight:700;

  border-radius:10px;
  box-shadow:0 0 6px rgba(25,151,0,.5);
  backdrop-filter:blur(8px);
  -webkit-backdrop-filter:blur(8px);
  background:rgba(255,255,255,.08);
  border:1px solid var(--stroke);
}

.currency-UAH { color:#fffb00ff; background: transparent; }
.currency-EUR { color:#ff0000ff; background: transparent; }
.currency-USD { color: rgba(40, 180, 47, 1); background: transparent; }

/* ================== TABLE ================== */
table{
  width:100%;
  border-collapse:separate;
  border-spacing:0 10px;
  table-layout:fixed;
}
thead{ display:none; }

tbody tr{
  background:
    linear-gradient(to bottom, rgba(255,255,255,.08), rgba(255,255,255,.02)),
    rgba(18,18,20,.65);

  /* ‚úÖ –í–ê–ñ–õ–ò–í–û: —É —Ç–µ–±–µ —Ç—É—Ç –±—É–≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å backdrop-filter(...) –±–µ–∑ ":" —ñ blur() */
  backdrop-filter: blur(22px) saturate(160%);
  -webkit-backdrop-filter: blur(22px) saturate(160%);

  border:1px solid rgba(255,255,255,.14);
}

tbody td{ padding:14px; font-size:14px; }

tbody td{
  word-break: break-word;
  overflow-wrap: anywhere;
  white-space: normal;
}

tbody td:first-child{ border-radius:14px 0 0 14px; }

/* —Å—É–º–∞ */
tbody td:last-child{
  width:30%;
  white-space:nowrap;
  text-align:right;
  border-radius:0 14px 14px 0;
}

/* –∫–æ–º–µ–Ω—Ç–∞—Ä */
.entry-comment{
  word-break: break-word;
  overflow-wrap: anywhere;
  white-space: normal;
}

.comment-cell{
  padding-right: 0;
  padding-left:0;
}

/* Receipt –∫–Ω–æ–ø–∫–∞ –ø—ñ–¥ –∫–æ–º–µ–Ω—Ç–∞—Ä–µ–º */
.receipt-btn{
  all: unset;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:5rem;
  height:34px;
  border-radius:999px;
  margin-top:6px;

  background: rgba(255,255,255,0.06);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  cursor:pointer;
}
.receipt-btn:active{ transform: scale(.94); }






/* ================== RECEIPT ACTIONS ==================
   –î–≤—ñ –∫–Ω–æ–ø–∫–∏ (–∞–±–æ –±—ñ–ª—å—à–µ) –≤ —Ä—è–¥, –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å—É, —Ä—ñ–≤–Ω–∞ —à–∏—Ä–∏–Ω–∞
====================================================== */
.receipt-actions{
  display:flex;
  justify-content:center;
  gap:10px;
  margin-top:12px;

  flex-wrap:nowrap; /* –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–∏ */
  width:100%;
}

.receipt-actions .btn{
  flex:1 1 0;              /* –æ–¥–Ω–∞–∫–æ–≤–∞ —à–∏—Ä–∏–Ω–∞ */
  margin-top:2rem;
  margin-bottom:2rem;
  min-width:0;             /* —â–æ–± —Ç–µ–∫—Å—Ç –Ω–µ —Ä–æ–∑–ø–∏—Ä–∞–ª–æ */
  max-width:220px;         /* –ª—ñ–º—ñ—Ç —à–∏—Ä–∏–Ω–∏ –∫–Ω–æ–ø–∫–∏ */
  text-align:center;
  text-decoration:none;

  display:inline-flex;
  align-items:center;
  justify-content:center;
}


/* ================== SEGMENTED ==================
   iOS/Telegram-like segmented control
================================================= */
.segmented{
  display:flex;
  margin-top:2rem;
  border-radius:999px;
  padding:4px;

  /* border –±—É–≤ –¥–≤—ñ—á—ñ: –∑–∞–ª–∏—à–∞—é —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π (–Ω–∏–∂–Ω—ñ–π) —è–∫ —É —Ç–µ–±–µ */
  border:1px solid var(--stroke);

  /* –ø—Ä–æ–∑–æ—Ä–∞ –±–∞–∑–∞ –ø—ñ–¥ "—Å–∫–ª–æ" */
  background: rgba(31, 30, 30, 0);

  /* glass */
  backdrop-filter: blur(18px) saturate(160%);
  -webkit-backdrop-filter: blur(18px) saturate(160%);

  border: 1px solid rgba(255,255,255,.12);

  /* –ª–µ–≥–∫–∏–π –æ–±‚Äô—î–º */
  box-shadow:
    inset 0 1px 1px rgba(255,255,255,.12),
    0 4px 14px rgba(0,0,0,.25);
}

.segmented button{
  flex:1;
  padding:8px 14px;
  border-radius:999px;
  background:none;
  border:none;
  color:var(--muted);
  font-weight:600;
}

.segmented button.active{
  background:rgba(84, 192, 134, 0.93);
  color:#000;
}


/* ================== SHEET ================== */
.sheet.hidden{ display:none; }

.sheet-backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.4);
}

.sheet-panel{
  position:fixed;
  left:0;
  right:0;
  bottom:0;
  z-index:3001;

  padding:16px 18px 80px;
  border-radius:24px 24px 0 0;

  /* glass */
  backdrop-filter:blur(24px) saturate(160%);
  -webkit-backdrop-filter:blur(24px) saturate(160%);

  border:1px solid rgba(255,255,255,.12);

  /* —Å–≤—ñ—Ç–ª–æ –∑–≤–µ—Ä—Ö—É + –≥–ª–∏–±–∏–Ω–∞ –∑–Ω–∏–∑—É */
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.15),
    0 -8px 30px rgba(0,0,0,.45);

  animation: sheetUp .25s ease;
}

.sheet-handle{
  width:40px;
  height:4px;
  background:rgba(255,255,255,.3);
  border-radius:999px;
  margin:0 auto 14px;
}

.sheet-panel h3{
  margin:0 0 16px;
  text-align:center;
  font-size:28px;
}

.sheet-panel input,
.sheet-panel select{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.08);
  color:var(--text);
  margin-bottom:10px;
  margin-top:18px;
  font-size:16px;
  outline:none;
}


/* ================== ENTRY TABLE HELPERS ================== */
.date-cell{
  width:64px;
  text-align:center;
  white-space:nowrap;
}

.date-main{ font-size:14px; font-weight:700; }
.date-year{ font-size:11px; opacity:.6; }

.amount-cell{
  text-align:right;
  white-space:nowrap;
  padding-right:10px;
  padding-left:0;
}

.amount-value{ font-weight:700; font-size:15px; }
.amount-currency{ font-size:12px; opacity:.7; margin-left:4px; }


/* —Ä–µ–∂–∏–º (–±–µ–π–¥–∂/–ø–ª–∞—à–∫–∞) */
.rejym{
  background:rgba(102, 242, 167, 0.53);
  color:#000;
}

img{ display:block; max-height:48px; }


/* ================== SUMMARY ================== */
.summary{
  display:flex;
  gap:14px;
  margin:18px 0 10px;
}
.summary.hidden{ display:none; }

.summary-item{
  flex:1;
  background:rgba(255,255,255,.06);
  border:1px solid var(--stroke);
  border-radius:14px;
  padding:12px 14px;
  text-align:center;
}

.summary-label{ font-size:12px; color:var(--muted); }

.summary-value{
  margin-top:4px;
  font-size:18px;
  font-weight:700;
  font-variant-numeric: tabular-nums;
}


/* ================== CATEGORY STATS ================== */
.cat{ margin:10px 0 18px; }
.cat.hidden{ display:none; }

.cat-title{
  font-size:13px;
  color:var(--muted);
  margin-bottom:8px;
}

.cat-row{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:6px;
}

.cat-name{
  min-width:90px;
  font-size:12px;
  white-space:nowrap;
}

.cat-bar{
  flex:1;
  height:8px;
  background:rgba(255,255,255,.08);
  border-radius:999px;
  overflow:hidden;
}

.cat-bar > div{
  height:100%;
  background:var(--red);
}

.cat-pct{
  width:38px;
  text-align:right;
  font-size:12px;
  font-variant-numeric: tabular-nums;
}


/* ================== CHART BOX ================== */
.hidden{ display:none; }

.chart-wrap{
  margin:16px 0 10px;
  padding:10px;
  background:rgba(255,255,255,.04);
  border:1px solid var(--stroke);
  border-radius:16px;
}

#statsBox{ padding:16px; }

#statsBox canvas{
  width: 100% !important;
  max-height: 260px;
}

.selector-vytraty-dohody{ margin-bottom: 1rem; }


/* ================== ENTRY ROW ACTIONS ================== */
.entry-row{ cursor: pointer; }

.entry-actions{
  margin-top:4px;
  display:none;
}

.entry-row.active .entry-actions{
  display:flex;
  gap:8px;
}

/* iOS-style buttons */
.entry-actions button{
  all: unset;
  width: 5rem;
  height: 34px;
  border-radius: 999px;

  display:flex;
  align-items:center;
  justify-content:center;

  font-size:16px;
  line-height:1;

  background: rgba(255,255,255,0.06);

  /* ‚úÖ –¥–æ–¥–∞–Ω–æ -webkit- (–Ω–µ –º—ñ–Ω—è—î –¥–∏–∑–∞–π–Ω, —Ç—ñ–ª—å–∫–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞) */
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);

  cursor:pointer;
  transition:
    background .15s ease,
    transform .1s ease,
    opacity .1s ease;
}

.entry-actions button:active{
  transform: scale(0.92);
  background: rgba(255,255,255,0.12);
}

.entry-actions button:first-child{ color:#4c7dff; } /* edit */
.entry-actions button:last-child{ color:#ff6b6b; }  /* delete */

@media (hover:hover){
  .entry-actions button:hover{
    background: rgba(255,255,255,0.12);
  }
}


/* ================== PIRATE DELETE OVERLAY ================== */
.account-card{
  position:relative;
  user-select:none;
}

.pirate-overlay{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  background:rgba(0,0,0,.55);
  opacity:0;
  pointer-events:none;
  transition:.2s ease;
  border-radius:14px;
}

.account-card.stage-1 .pirate-overlay,
.account-card.stage-2 .pirate-overlay{
  opacity:1;
  pointer-events:auto;
}

.account-card.stage-2 .pirate-overlay{
  background:rgba(120,0,0,.85);
}

.pirate-skull{
  font-size:42px;
  animation: skullPulse 1.2s infinite;
  cursor:pointer;
}

.account-card.stage-2 .pirate-skull{
  animation: skullShake .6s infinite;
}

.pirate-text{
  margin-top:10px;
  font-size:14px;
  color:#ffd6d6;
  text-align:center;
  max-width:80%;
}

@keyframes skullPulse{
  0%{ transform:scale(1); }
  50%{ transform:scale(1.15); }
  100%{ transform:scale(1); }
}

@keyframes skullShake{
  0%{ transform:rotate(0); }
  25%{ transform:rotate(-8deg); }
  50%{ transform:rotate(8deg); }
  75%{ transform:rotate(-8deg); }
  100%{ transform:rotate(0); }
}

@keyframes splashPulse{
  0%{ transform: scale(1); }
  50%{ transform: scale(1.08); }
  100%{ transform: scale(1); }
}


/* ================== MODAL ================== */
.modal.hidden{ display:none; }

.modal-backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);

  backdrop-filter:blur(4px);
  -webkit-backdrop-filter:blur(4px); /* ‚úÖ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ */

  z-index:3000;
}

/* iOS glass modal sheet */
.modal-panel{
  position:fixed;
  left:0;
  right:0;
  bottom:0;
  z-index:3001;

  padding:16px 18px 100px;
  border-radius:24px 24px 0 0;

  backdrop-filter:blur(24px) saturate(160%);
  -webkit-backdrop-filter:blur(24px) saturate(160%);

  border:1px solid rgba(255,255,255,.12);

  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.15),
    0 -8px 30px rgba(0,0,0,.45);

  animation:sheetUp .25s ease;
}

@keyframes sheetUp{
  from{ transform:translateY(100%); }
  to{ transform:translateY(0); }
}

.modal-handle{
  width:42px;
  height:4px;
  border-radius:999px;
  background:rgba(255,255,255,.3);
  margin:0 auto 14px;
}

.modal-header{ margin-bottom:12px; }

.modal-title{
  margin-top:2rem;
  text-align:center;
  font-weight:700;
  font-size:18px;
}

.modal-cash{ margin-bottom:2rem; }

.modal-close{
  all:unset;
  width:34px;
  height:34px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(255,255,255,.08);
  cursor:pointer;
}

.modal-body{
  font-size:15px;
  line-height:1.5;
}

.rate-card{
  background: linear-gradient(180deg, rgba(255, 255, 255, .12), rgba(255, 255, 255, .02));
  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur)); /* ‚úÖ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ */
  border:1px solid var(--stroke);
  border-radius:14px;
  padding:12px;
  margin-bottom:10px;
  margin-top:1rem;
  transition:.2s;
}

.rate-title{ font-weight:700; margin-bottom:6px; }

.rate-title-usd{
  color:rgb(28, 231, 62);
  text-shadow:0 0 8px rgba(102,242,168,.4);
}

.rate-title-eur{
  color:rgb(231, 28, 28);
  text-shadow:0 0 8px rgba(76,125,255,.4);
}

.burger-actions{
  display:flex;
  flex-direction:column;
  gap:4px;
}


/* ================== EXCHANGE ================== */
.exchange{
  margin-top:14px;
  padding-top:12px;
  border-top:1px solid var(--stroke);
  animation:fadeIn .25s ease;
}

@keyframes fadeIn{
  from{ opacity:0; transform:translateY(10px); }
  to{ opacity:1; transform:translateY(0); }
}

.exchange-header{
  display:flex;
  justify-content:center;
  width:100%;
}

/* –ø—Ä–∏–±—Ä–∞—Ç–∏ –∑–∞–π–≤—ñ –≤—ñ–¥—Å—Ç—É–ø–∏ –≤ –æ–±–º—ñ–Ω–Ω–∏–∫—É */
.exchange-header .segmented.exchange-mode{
  margin: 0 auto;
}

.exchange-row{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:10px;
}

.exchange-row input{
  flex:1;
  padding:12px;
  border-radius:12px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.08);
  color:#fff;
  font-size:16px;
}

/* ================== EXCHANGE ================== */
.exchange-currency{
  min-width:52px;
  text-align:center;
  font-weight:700;
}

.exchange-mode{
  margin-bottom:10px;
  width:100%;
}

/* –†–æ–∑–∫—Ä–∏—Ç–∏–π –º–æ–¥–∞–ª—å–Ω–∏–π ‚Äúsheet‚Äù –∑ –ø—Ä–æ–∫—Ä—É—Ç–∫–æ—é */
.modal-panel.expanded{
  max-height:85vh;
  overflow:auto;

  /* ‚úÖ iOS: —ñ–Ω–µ—Ä—Ü—ñ–π–Ω–∏–π —Å–∫—Ä–æ–ª */
  -webkit-overflow-scrolling: touch;
}


/* –ê–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∫–∞ (–≤–∏–±—ñ—Ä –∫—É—Ä—Å—É) */
.rate-card.active{
  border:1px solid rgba(102, 242, 167, 0.53);
  background:#4e876900; /* ‚úÖ –ø—Ä–∏–±—Ä–∞–Ω–æ –∑–∞–π–≤–µ ; */
  box-shadow:0 0 8px rgba(102, 242, 167, 0.25);
  transform:translateY(-2px);
}


/* ================== INPUT FOCUS (EXCHANGE) ==================
   –ü—Ä–∏–±–∏—Ä–∞—î–º–æ —Å–∏—Å—Ç–µ–º–Ω–∏–π —Ñ–æ–∫—É—Å + —Ä–æ–±–∏–º–æ —Å–≤—ñ–π
============================================================ */
.exchange-row input{
  outline:none;
  transition:.2s;
  margin-top:1rem;
}

/* –∫–∞—Å—Ç–æ–º–Ω–∏–π —Ñ–æ–∫—É—Å */
.exchange-row input:focus{
  border:1px solid #6dff4c;
  background:rgba(76,125,255,.12);
  box-shadow:0 0 9px rgba(207, 255, 76, 0.35);
  transform:translateY(-2px);
}

/* –∫–æ–ª–∏ –ø–æ–ª–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–µ */
.exchange-row input:not(:placeholder-shown){
  border:1px solid rgba(109,255,76,.4);
}

#walletsView,
#opsView{
  padding-bottom: calc(110px + env(safe-area-inset-bottom));
}


/* =========================================================
   üîß BACKGROUND FIX (–ù–ï –õ–ê–ú–ê–Ñ –Ü–°–ù–£–Æ–ß–Ü –°–¢–ò–õ–Ü)
   –°—Ç–∞–±—ñ–ª—ñ–∑—É—î —Ñ–æ–Ω –Ω–∞ iOS / Chrome / WebView
========================================================= */

/* 1) –û–∫—Ä–µ–º–∏–π —à–∞—Ä —Ñ–æ–Ω—É –∑–∞–º—ñ—Å—Ç—å body */
.app-bg{
  position:fixed;
  inset:0;
  z-index:-1;

  background:
    radial-gradient(1400px 700px at 20% -20%, #1b2450 0%, transparent 60%),
    radial-gradient(1200px 600px at 90% 10%, #0f3a2a 0%, transparent 55%),
    linear-gradient(180deg, #0b0d10 0%, #07080c 100%);

  background-repeat:no-repeat;
  background-size:cover;

  transform:translateZ(0); /* iOS repaint fix */
}

/* 2) –í—ñ–¥–∫–ª—é—á–∞—î–º–æ —Å—Ç–∞—Ä–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º —Ñ–æ–Ω—É –Ω–∞ body */
body{
  background:none !important;
  height:auto !important;

  /* ‚úÖ —â–æ–± –¥–æ–∫—É–º–µ–Ω—Ç –Ω–µ ‚Äú—Å—Ç–∏—Å–∫–∞–≤—Å—è‚Äù –≤ –æ–∫—Ä–µ–º–∏—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö */
  min-height:100%;
}

/* 3) html –Ω–µ –ø–µ—Ä–µ–±–∏–≤–∞—î —Ñ–æ–Ω */
html{
  background:#0b0d10;
}


/* ================== STAFF / ACCOUNTANT CARD ================== */
.wallet-card--accountant{
  background: linear-gradient(135deg, #2a2f36, #1c2127);
  border: 1px dashed rgba(255,255,255,0.15);
}

.staff-badge{
  font-size:11px;
  padding:4px 8px;
  border-radius:999px;
  background:rgba(102,242,168,.15);
  border:1px solid rgba(102,242,168,.35);
  color:#66f2a8;
  font-weight:700;
  letter-spacing:.3px;
}


/* ================= ACCOUNT CARDS (MOBILE FIRST) ================= */

/* üì± MOBILE */
.account-card-ui{
  padding:14px 16px;
  border-radius:18px;
  min-height:120px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  position:relative;
}

.account-name{
  font-size:15px;
  font-weight:700;
}

.account-balance{
  font-size:20px;
  font-weight:800;
}

.account-type{
  font-size:11px;
  opacity:.6;
}

/* üíª DESKTOP UPGRADE */
@media (min-width:1100px){
  .grid{
    grid-template-columns:repeat(auto-fill,minmax(380px,1fr));
    gap:26px;
  }

  .account-card-ui{
    padding:24px 26px;
    border-radius:22px;
    min-height:250px;
  }

  .account-name{ font-size:20px; }
  .account-balance{ font-size:30px; }
}


/* ===== HIDE SCROLLBAR (MOBILE APP STYLE) ===== */
@media (max-width:768px){
  html, body{
    scrollbar-width:none;        /* Firefox */
    -ms-overflow-style:none;     /* IE/Edge */
  }

  html::-webkit-scrollbar,
  body::-webkit-scrollbar{
    display:none;                /* Chrome / Safari / iOS */
  }
}


/* ================= DESKTOP MODAL ================= */
@media (min-width:900px){
  .modal-panel{
    top:50%;
    left:50%;
    right:auto;
    bottom:auto;

    transform:translate(-50%, -50%);
    width:520px;
    max-height:90vh;

    border-radius:22px;
    padding:22px 26px;

    backdrop-filter:blur(32px) saturate(160%);
    -webkit-backdrop-filter:blur(32px) saturate(160%);

    box-shadow:
      0 30px 80px rgba(0,0,0,.6),
      inset 0 1px 0 rgba(255,255,255,.15);

    animation:fadeScale .25s ease;
  }

  .modal-body{
    max-height:55vh;
    overflow:auto;
    padding-right:6px;

    /* ‚úÖ iOS/macOS WebView: –ø–ª–∞–≤–Ω–∏–π —Å–∫—Ä–æ–ª —É —Ç—ñ–ª—ñ –º–æ–¥–∞–ª–∫–∏ */
    -webkit-overflow-scrolling: touch;
  }

  .modal-title{
    margin-top:0;
    font-size:20px;
  }

  .modal-handle{ display:none; }
}

/* –ø–ª–∞–≤–Ω–∞ –ø–æ—è–≤–∞ */
@keyframes fadeScale{
  from{ opacity:0; transform:translate(-50%,-45%) scale(.96); }
  to{ opacity:1; transform:translate(-50%,-50%) scale(1); }
}


/* ================== RECEIPT (2 —Ä—ñ–≤–Ω—ñ ‚Äú–∫–Ω–æ–ø–∫–∏‚Äù –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É) ================== */
.row.row-actions{
  display:flex;
  gap:10px;
  width:100%;
  flex-wrap:nowrap; /* –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–∏ */
  margin:30px 0;
}

/* –æ–±–∏–¥–≤–∞ –µ–ª–µ–º–µ–Ω—Ç–∏ —è–∫ —Ä—ñ–≤–Ω—ñ –∫–æ–ª–æ–Ω–∫–∏ */
.row.row-actions > #receiptBtn,
.row.row-actions > #receiptBadge{
  flex:1 1 0;
  min-width:0;
  height:44px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  white-space:nowrap;
}

/* badge –≤–∏–≥–ª—è–¥–∞—î —è–∫ –∫–Ω–æ–ø–∫–∞ */
#receiptBadge{
  font-size:16px;
  border-radius:19px; /* —è–∫ .btn.mini */
  padding:6px 10px;   /* —è–∫ .btn.mini */
}

/* ‚úÖ –Ω–µ –ø—Ä–∏–±–∏—Ä–∞—î–º–æ –∑ –ø–æ—Ç–æ–∫—É, —â–æ–± –Ω–µ ‚Äú—Å–∫–∞–∫–∞–ª–∞‚Äù —à–∏—Ä–∏–Ω–∞ */
#receiptBadge.hidden{
  display:flex !important;   /* –ø–µ—Ä–µ–±–∏–≤–∞—î .hidden{display:none} */
  visibility:hidden;
  pointer-events:none;
}


/* ================= HOLDING CARD ================= */
.segmented.holding-mode button{
  transition: background-color .18s ease, color .18s ease, border-color .18s ease;
}

.holding-card{
  margin-top:14px;
  padding:16px 18px;
}

.holding-head{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
}

.holding-title{
  font-weight:900;
  font-size:20px;
  color: #cacaca;
}

.holding-amount{
  margin-top:10px;
  font-size:30px;
  font-weight:900;
  letter-spacing:.2px;
  font-variant-numeric: tabular-nums;
  text-align: center;
}

.holding-break{
  display:flex;
  gap:10px;
  margin-top:12px;
  flex-wrap:wrap;
  align-items:center;
  flex-wrap:nowrap;      /* ‚¨ÖÔ∏è –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–∏ –Ω–∞ –Ω–æ–≤–∏–π —Ä—è–¥ */
  align-items:stretch; 
}

.holding-pill{
  padding:8px 10px;
  border-radius:12px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--stroke);
  font-size:12px;
  font-weight:800;
  opacity:.95;
  flex:1 1 0;            /* ‚¨ÖÔ∏è –æ–¥–Ω–∞–∫–æ–≤–∞ —à–∏—Ä–∏–Ω–∞ */
  min-width:0;           /* ‚¨ÖÔ∏è —â–æ–± —Ç–µ–∫—Å—Ç –Ω–µ —Ä–æ–∑–ø–∏—Ä–∞–≤ */
  display:flex;
  flex-direction:column; /* ‚¨ÖÔ∏è –≤–µ—Ä—Ö/–Ω–∏–∑ */
  align-items:center;
}

/* –≤–µ—Ä—Ö–Ω—ñ–π —Ä—è–¥: —ñ–∫–æ–Ω–∫–∞ + –Ω–∞–∑–≤–∞ */
.holding-pill .hp-top{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:12px;
  font-weight:800;
  opacity:.9;
  line-height:1.1;
}

/* –Ω–∏–∂–Ω—ñ–π —Ä—è–¥: —Å—É–º–∞ */
.holding-pill .hp-val{
  margin-top:6px;
  font-size:14px;
  font-weight:900;
  font-variant-numeric: tabular-nums;
  line-height:1.1;
}




.segmented.holding-mode{
  margin-top:0;
  padding:3px;
  width:auto;
}

.segmented.holding-mode button{
  padding:6px 10px;
  font-size:12px;
}

.holding-warn{
  margin-top:10px;
  font-size:12px;
  opacity:.75;
}


/* ================= DESKTOP: SHEET AS CENTER MODAL ================= */
@media (min-width:900px){
  .sheet-panel{
    left:50%;
    right:auto;
    bottom:auto;
    top:50%;
    transform:translate(-50%, -50%);

    width:min(560px, calc(100vw - 48px));
    max-height:80vh;
    overflow:auto;

    border-radius:22px;
    padding:22px 26px;

    backdrop-filter: blur(32px) saturate(160%);
    -webkit-backdrop-filter: blur(32px) saturate(160%);

    box-shadow:
      0 30px 80px rgba(0,0,0,.6),
      inset 0 1px 0 rgba(255,255,255,.15);

    animation:fadeScaleSheet .22s ease;
  }

  .sheet-handle{ display:none; }

  .sheet-panel h3{
    font-size:20px;
    margin-bottom:14px;
  }
}

@keyframes fadeScaleSheet{
  from{ opacity:0; transform:translate(-50%, -46%) scale(.97); }
  to{ opacity:1; transform:translate(-50%, -50%) scale(1); }
}

/* ===============================
   CASH DELETE HOLD PROTECTION
=============================== */

.account-card.account-cash{
  -webkit-user-select: none;
  user-select: none;

  -webkit-touch-callout: none; /* iOS –º–µ–Ω—é */
  -webkit-tap-highlight-color: transparent;

  touch-action: manipulation;
}

.account-card.account-cash *{
  -webkit-user-select: none;
  user-select: none;
}














.view-hidden{
  display: none;
}

.view-visible{
  display: block;
}
